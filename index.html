<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShinWare Admin Paneli</title>
    <style>
        body { font-family: Arial; text-align:center; margin-top:50px; }
        input { padding: 5px; margin: 5px; width:200px; }
        button { padding:5px 15px; margin:10px; }
        .hidden { display:none; }
    </style> //GPT yaptı amk
</head>
<body>
    <h1>ShinWare Admin Paneli</h1>

    <div id="loginDiv">
        <input type="text" id="adminUser" placeholder="Admin kullanıcı adı">
        <input type="password" id="adminPass" placeholder="Admin şifre">
        <button onclick="adminLogin()">Giriş Yap</button>
        <p id="loginMsg"></p>
    </div>

    <div id="panelDiv" class="hidden">
        <h2>Key Oluştur</h2>
        <input type="text" id="newUser" placeholder="Yeni kullanıcı adı">
        <input type="text" id="newKey" placeholder="Yeni key">
        <button onclick="createKey()">Key Oluştur</button>
        <p id="panelMsg"></p>
    </div>

    <script>
        const ADMIN_USERNAME = "Admin";
        const ADMIN_PASSWORD = "123";

        async function fetchJSON() {
            const response = await fetch("https://plugin-lunex.vercel.app/shinware.json");
            return await response.json();
        }

        async function saveJSON(data) {
            // Burası senin backend endpoint’in olmalı, fetch POST/PUT ile kaydedeceksin
            console.log("Yeni JSON:", data);
            alert("✅ Key siteye kaydedildi (backend gerekli)");
        }

        let data = {};

        async function adminLogin() {
            const user = document.getElementById("adminUser").value.trim();
            const pass = document.getElementById("adminPass").value.trim();
            const msg = document.getElementById("loginMsg");

            if(user === ADMIN_USERNAME && pass === ADMIN_PASSWORD) {
                msg.textContent = "✅ Admin giriş başarılı!";
                document.getElementById("loginDiv").classList.add("hidden");
                document.getElementById("panelDiv").classList.remove("hidden");
                data = await fetchJSON();
            } else {
                msg.textContent = "❌ Hatalı giriş!";
            }
        }

        async function createKey() {
            const newUser = document.getElementById("newUser").value.trim();
            const newKey = document.getElementById("newKey").value.trim();
            const msg = document.getElementById("panelMsg");

            if(!newUser || !newKey) {
                msg.textContent = "❌ Kullanıcı adı ve key gerekli!";
                return;
            }

            data.users[newUser] = newKey;
            await saveJSON(data);
            msg.textContent = `✅ ${newUser} için key oluşturuldu: ${newKey}`;
        }
    </script>
</body>
</html>
